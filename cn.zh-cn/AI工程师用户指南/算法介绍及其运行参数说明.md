# 算法介绍及其运行参数说明<a name="modelarts_23_0158"></a>

本章节介绍了ModelArts当前支持的预置算法的说明及每个算法支持的运行参数。您可以参考本章节说明，设置训练作业中的运行参数。

## yolo\_v3<a name="section927534914236"></a>

**表 1**  算法介绍

<a name="table2747140132620"></a>
<table><thead align="left"><tr id="row147482016268"><th class="cellrowborder" valign="top" width="29.82%" id="mcps1.2.3.1.1"><p id="p1274817042612"><a name="p1274817042612"></a><a name="p1274817042612"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.17999999999999%" id="mcps1.2.3.1.2"><p id="p19748150192611"><a name="p19748150192611"></a><a name="p19748150192611"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row2515142619269"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p15516112617261"><a name="p15516112617261"></a><a name="p15516112617261"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1351672692616"><a name="p1351672692616"></a><a name="p1351672692616"></a>yolo_v3</p>
</td>
</tr>
<tr id="row17748140152613"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1574816002615"><a name="p1574816002615"></a><a name="p1574816002615"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p11748180172617"><a name="p11748180172617"></a><a name="p11748180172617"></a>检测物体类别和位置</p>
</td>
</tr>
<tr id="row18748700265"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p197487042618"><a name="p197487042618"></a><a name="p197487042618"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p27481405260"><a name="p27481405260"></a><a name="p27481405260"></a>MXNet, MXNet-1.2.1-python2.7</p>
</td>
</tr>
<tr id="row5748008267"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p574840152614"><a name="p574840152614"></a><a name="p574840152614"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p2074818052616"><a name="p2074818052616"></a><a name="p2074818052616"></a>81.7%(mAP)</p>
<p id="p13176173932716"><a name="p13176173932716"></a><a name="p13176173932716"></a>mAP是物体检测算法中衡量算法效果的指标。对于物体检测任务，每一类object都可以计算出其精确率（Precision）和召回率（Recall），在不同阈值下多次计算/试验，每个类都可以得到一条P-R曲线，曲线下的面积就是average。</p>
</td>
</tr>
<tr id="row11748150142620"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p07481609268"><a name="p07481609268"></a><a name="p07481609268"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p137482010264"><a name="p137482010264"></a><a name="p137482010264"></a>Pascal VOC2007，20类物体检测</p>
</td>
</tr>
<tr id="row474816014262"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p27486018261"><a name="p27486018261"></a><a name="p27486018261"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1274800172617"><a name="p1274800172617"></a><a name="p1274800172617"></a>shape: [H&gt;=224, W&gt;=224, C&gt;=1]; type: int8</p>
</td>
</tr>
<tr id="row0995145112619"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p7995115117266"><a name="p7995115117266"></a><a name="p7995115117266"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p7995125115265"><a name="p7995125115265"></a><a name="p7995125115265"></a>lr=0.0001 ; mom=0.9 ; wd=0.0005</p>
<p id="p10644337202913"><a name="p10644337202913"></a><a name="p10644337202913"></a>更多可使用的运行参数，请参见<a href="#table8214792417">表2</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 2**  运行参数说明

<a name="table8214792417"></a>
<table><thead align="left"><tr id="row621177132418"><th class="cellrowborder" valign="top" width="25.319999999999997%" id="mcps1.2.4.1.1"><p id="p19211771244"><a name="p19211771244"></a><a name="p19211771244"></a>可选参数</p>
</th>
<th class="cellrowborder" valign="top" width="47.56%" id="mcps1.2.4.1.2"><p id="p112217132412"><a name="p112217132412"></a><a name="p112217132412"></a>参数说明</p>
</th>
<th class="cellrowborder" valign="top" width="27.12%" id="mcps1.2.4.1.3"><p id="p722127142418"><a name="p722127142418"></a><a name="p722127142418"></a>默认值</p>
</th>
</tr>
</thead>
<tbody><tr id="row1322147162417"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p5222772417"><a name="p5222772417"></a><a name="p5222772417"></a>lr</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p4223716249"><a name="p4223716249"></a><a name="p4223716249"></a>更新参数的学习率。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p1822187172413"><a name="p1822187172413"></a><a name="p1822187172413"></a>0.0001</p>
</td>
</tr>
<tr id="row2022127202412"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p1943165213387"><a name="p1943165213387"></a><a name="p1943165213387"></a>mom</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p4642017193915"><a name="p4642017193915"></a><a name="p4642017193915"></a>训练网络的动量参数。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p1769113523917"><a name="p1769113523917"></a><a name="p1769113523917"></a>0.9</p>
</td>
</tr>
<tr id="row17335331204916"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p17223762414"><a name="p17223762414"></a><a name="p17223762414"></a>wd</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p82297132416"><a name="p82297132416"></a><a name="p82297132416"></a>参数权重衰减系数，L2。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p122677240"><a name="p122677240"></a><a name="p122677240"></a>0.0005</p>
</td>
</tr>
<tr id="row2228702420"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p0222712245"><a name="p0222712245"></a><a name="p0222712245"></a>num_classes</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p5221871245"><a name="p5221871245"></a><a name="p5221871245"></a>训练中使用的图片总的类别数，这里不需要+1。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p3221178248"><a name="p3221178248"></a><a name="p3221178248"></a>无</p>
</td>
</tr>
<tr id="row152213716246"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p17943195217388"><a name="p17943195217388"></a><a name="p17943195217388"></a>split_spec</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p19651317193911"><a name="p19651317193911"></a><a name="p19651317193911"></a>训练集和验证集切分比例。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p869117553912"><a name="p869117553912"></a><a name="p869117553912"></a>0.8</p>
</td>
</tr>
<tr id="row8221572241"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p1221172249"><a name="p1221172249"></a><a name="p1221172249"></a>batch_size</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p122227152416"><a name="p122227152416"></a><a name="p122227152416"></a>每次更新训练的图片数量（所有GPU总和）。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p522478244"><a name="p522478244"></a><a name="p522478244"></a>4</p>
</td>
</tr>
<tr id="row5232718245"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p923157202414"><a name="p923157202414"></a><a name="p923157202414"></a>eval_frequence</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p7231712410"><a name="p7231712410"></a><a name="p7231712410"></a>对模型做验证的频率，默认为每个epoch都做。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p172397152410"><a name="p172397152410"></a><a name="p172397152410"></a>1</p>
</td>
</tr>
<tr id="row668513547382"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p149431652123819"><a name="p149431652123819"></a><a name="p149431652123819"></a>num_epoch</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p106515175395"><a name="p106515175395"></a><a name="p106515175395"></a>训练的epoch数。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p136917516392"><a name="p136917516392"></a><a name="p136917516392"></a>10</p>
</td>
</tr>
<tr id="row1368515483814"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p1221711244"><a name="p1221711244"></a><a name="p1221711244"></a>num_examples</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p102257122410"><a name="p102257122410"></a><a name="p102257122410"></a>参与训练的图片总数，比如图片总数是1000，由于切分数据集这里是800。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p11221570243"><a name="p11221570243"></a><a name="p11221570243"></a>16551</p>
</td>
</tr>
<tr id="row3685554193819"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p169431252173811"><a name="p169431252173811"></a><a name="p169431252173811"></a>disp_batches</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p966181719398"><a name="p966181719398"></a><a name="p966181719398"></a>每N个batch显示一次计算模型的loss和训练速度。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p17692115163916"><a name="p17692115163916"></a><a name="p17692115163916"></a>20</p>
</td>
</tr>
<tr id="row20685185417388"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p694345211389"><a name="p694345211389"></a><a name="p694345211389"></a>warm_up_epochs</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p166317123914"><a name="p166317123914"></a><a name="p166317123914"></a>warm_up策略达到指定lr的epoch数。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p469211523917"><a name="p469211523917"></a><a name="p469211523917"></a>0</p>
</td>
</tr>
<tr id="row868418545382"><td class="cellrowborder" valign="top" width="25.319999999999997%" headers="mcps1.2.4.1.1 "><p id="p194365214387"><a name="p194365214387"></a><a name="p194365214387"></a>lr_steps</p>
</td>
<td class="cellrowborder" valign="top" width="47.56%" headers="mcps1.2.4.1.2 "><p id="p266317133915"><a name="p266317133915"></a><a name="p266317133915"></a>multifactor策略中lr衰减的epoch数，默认为在第10和15个epoch衰减为原来的0.1倍。</p>
</td>
<td class="cellrowborder" valign="top" width="27.12%" headers="mcps1.2.4.1.3 "><p id="p17692553395"><a name="p17692553395"></a><a name="p17692553395"></a>10,15</p>
</td>
</tr>
</tbody>
</table>

## retinanet\_resnet\_v1\_50<a name="section14756183063012"></a>

**表 3**  算法介绍

<a name="table714918115337"></a>
<table><thead align="left"><tr id="row81491711183314"><th class="cellrowborder" valign="top" width="29.82%" id="mcps1.2.3.1.1"><p id="p314981115332"><a name="p314981115332"></a><a name="p314981115332"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.17999999999999%" id="mcps1.2.3.1.2"><p id="p1214961116331"><a name="p1214961116331"></a><a name="p1214961116331"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1814913114336"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p314971153314"><a name="p314971153314"></a><a name="p314971153314"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1871521453317"><a name="p1871521453317"></a><a name="p1871521453317"></a>retinanet_resnet_v1_50</p>
</td>
</tr>
<tr id="row1215021113312"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p2015051173316"><a name="p2015051173316"></a><a name="p2015051173316"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p571391453316"><a name="p571391453316"></a><a name="p571391453316"></a>检测物体类别和位置</p>
</td>
</tr>
<tr id="row141503119332"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p19150151111335"><a name="p19150151111335"></a><a name="p19150151111335"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p771211416337"><a name="p771211416337"></a><a name="p771211416337"></a>TensorFlow, TF-1.8.0-python2.7</p>
</td>
</tr>
<tr id="row215081143314"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p81501311173317"><a name="p81501311173317"></a><a name="p81501311173317"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p871112147338"><a name="p871112147338"></a><a name="p871112147338"></a>83.15%(mAP)</p>
<p id="p1337585173517"><a name="p1337585173517"></a><a name="p1337585173517"></a>mAP是物体检测算法中衡量算法效果的指标。对于物体检测任务，每一类object都可以计算出其精确率（Precision）和召回率（Recall），在不同阈值下多次计算/试验，每个类都可以得到一条P-R曲线，曲线下的面积就是average。</p>
</td>
</tr>
<tr id="row11150511153314"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p14150141113319"><a name="p14150141113319"></a><a name="p14150141113319"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p177091147335"><a name="p177091147335"></a><a name="p177091147335"></a>ImageNet-1k; [H, W, C=3]</p>
</td>
</tr>
<tr id="row131508113336"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p171508117335"><a name="p171508117335"></a><a name="p171508117335"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1270814141336"><a name="p1270814141336"></a><a name="p1270814141336"></a>shape: [H, W, C&gt;=1]; type: int8</p>
</td>
</tr>
<tr id="row2015041119332"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p815001110335"><a name="p815001110335"></a><a name="p815001110335"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1170791412332"><a name="p1170791412332"></a><a name="p1170791412332"></a>默认算法未设置运行参数，更多可使用的运行参数，请参见<a href="#table121175580323">表4</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 4**  运行参数说明

<a name="table121175580323"></a>
<table><thead align="left"><tr id="zh-cn_topic_0133017584_row19771343103213"><th class="cellrowborder" valign="top" width="25.380000000000003%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0133017584_p597774353214"><a name="zh-cn_topic_0133017584_p597774353214"></a><a name="zh-cn_topic_0133017584_p597774353214"></a>可选参数</p>
</th>
<th class="cellrowborder" valign="top" width="55.17999999999999%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0133017584_p5977114343214"><a name="zh-cn_topic_0133017584_p5977114343214"></a><a name="zh-cn_topic_0133017584_p5977114343214"></a>参数说明</p>
</th>
<th class="cellrowborder" valign="top" width="19.439999999999998%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0133017584_p2977134333216"><a name="zh-cn_topic_0133017584_p2977134333216"></a><a name="zh-cn_topic_0133017584_p2977134333216"></a>默认值</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0133017584_row1597774310323"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p7844161633315"><a name="zh-cn_topic_0133017584_p7844161633315"></a><a name="zh-cn_topic_0133017584_p7844161633315"></a>split_spec</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p4278551113414"><a name="zh-cn_topic_0133017584_p4278551113414"></a><a name="zh-cn_topic_0133017584_p4278551113414"></a>训练集和验证集切分比例。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p111739815359"><a name="zh-cn_topic_0133017584_p111739815359"></a><a name="zh-cn_topic_0133017584_p111739815359"></a>train:0.8,eval:0.2</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row1997724373215"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p15844181614334"><a name="zh-cn_topic_0133017584_p15844181614334"></a><a name="zh-cn_topic_0133017584_p15844181614334"></a>num_gpus</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p62789512346"><a name="zh-cn_topic_0133017584_p62789512346"></a><a name="zh-cn_topic_0133017584_p62789512346"></a>使用的GPU个数。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p10173168123517"><a name="zh-cn_topic_0133017584_p10173168123517"></a><a name="zh-cn_topic_0133017584_p10173168123517"></a>1</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row3977043173213"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p38441161333"><a name="zh-cn_topic_0133017584_p38441161333"></a><a name="zh-cn_topic_0133017584_p38441161333"></a>batch_size</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p0278751123413"><a name="zh-cn_topic_0133017584_p0278751123413"></a><a name="zh-cn_topic_0133017584_p0278751123413"></a>每次迭代训练的图片数量（单卡）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p171731786359"><a name="zh-cn_topic_0133017584_p171731786359"></a><a name="zh-cn_topic_0133017584_p171731786359"></a>32</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row10978743123213"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p1984412161339"><a name="zh-cn_topic_0133017584_p1984412161339"></a><a name="zh-cn_topic_0133017584_p1984412161339"></a>eval_batch_size</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p327815153415"><a name="zh-cn_topic_0133017584_p327815153415"></a><a name="zh-cn_topic_0133017584_p327815153415"></a>验证时每步读取的图片数量（单卡）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p1517318823517"><a name="zh-cn_topic_0133017584_p1517318823517"></a><a name="zh-cn_topic_0133017584_p1517318823517"></a>32</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row1978164393215"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p784401643318"><a name="zh-cn_topic_0133017584_p784401643318"></a><a name="zh-cn_topic_0133017584_p784401643318"></a>learning_rate_strategy</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p162781351193416"><a name="zh-cn_topic_0133017584_p162781351193416"></a><a name="zh-cn_topic_0133017584_p162781351193416"></a>训练的学习率策略（“10:0.001,20:0.0001”代表0-10个epoch学习率0.001， 10-20epoch学习率0.0001）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p1317358183510"><a name="zh-cn_topic_0133017584_p1317358183510"></a><a name="zh-cn_topic_0133017584_p1317358183510"></a>0.002</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row1097834313211"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p148442168335"><a name="zh-cn_topic_0133017584_p148442168335"></a><a name="zh-cn_topic_0133017584_p148442168335"></a>evaluate_every_n_epochs</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p15278135173413"><a name="zh-cn_topic_0133017584_p15278135173413"></a><a name="zh-cn_topic_0133017584_p15278135173413"></a>每训练N个epoch做一次验证。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p131746810354"><a name="zh-cn_topic_0133017584_p131746810354"></a><a name="zh-cn_topic_0133017584_p131746810354"></a>1</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row897874313321"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p16844201633319"><a name="zh-cn_topic_0133017584_p16844201633319"></a><a name="zh-cn_topic_0133017584_p16844201633319"></a>save_interval_secs</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p127885153412"><a name="zh-cn_topic_0133017584_p127885153412"></a><a name="zh-cn_topic_0133017584_p127885153412"></a>保存模型的频率（单位：s)。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p61741486353"><a name="zh-cn_topic_0133017584_p61741486353"></a><a name="zh-cn_topic_0133017584_p61741486353"></a>2000000</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row8978114317322"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p19844121663313"><a name="zh-cn_topic_0133017584_p19844121663313"></a><a name="zh-cn_topic_0133017584_p19844121663313"></a>max_epochs</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p82782514343"><a name="zh-cn_topic_0133017584_p82782514343"></a><a name="zh-cn_topic_0133017584_p82782514343"></a>最大训练的epoch数。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p91741682358"><a name="zh-cn_topic_0133017584_p91741682358"></a><a name="zh-cn_topic_0133017584_p91741682358"></a>100</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row19978154311322"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p1184471613311"><a name="zh-cn_topic_0133017584_p1184471613311"></a><a name="zh-cn_topic_0133017584_p1184471613311"></a>log_every_n_steps</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p127875173413"><a name="zh-cn_topic_0133017584_p127875173413"></a><a name="zh-cn_topic_0133017584_p127875173413"></a>每训练N步打印一次日志，默认为10步打印一次。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p3174983359"><a name="zh-cn_topic_0133017584_p3174983359"></a><a name="zh-cn_topic_0133017584_p3174983359"></a>10</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row4979124319321"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p2084417166331"><a name="zh-cn_topic_0133017584_p2084417166331"></a><a name="zh-cn_topic_0133017584_p2084417166331"></a>save_summaries_steps</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p17278155114347"><a name="zh-cn_topic_0133017584_p17278155114347"></a><a name="zh-cn_topic_0133017584_p17278155114347"></a>每5步保存一次summary。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p161743818356"><a name="zh-cn_topic_0133017584_p161743818356"></a><a name="zh-cn_topic_0133017584_p161743818356"></a>5</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row4846310115720"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p184401653314"><a name="zh-cn_topic_0133017584_p184401653314"></a><a name="zh-cn_topic_0133017584_p184401653314"></a>weight_decay</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p1527817515347"><a name="zh-cn_topic_0133017584_p1527817515347"></a><a name="zh-cn_topic_0133017584_p1527817515347"></a>模型权重衰减的L2系数。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p161746816352"><a name="zh-cn_topic_0133017584_p161746816352"></a><a name="zh-cn_topic_0133017584_p161746816352"></a>0.00004</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row59393131577"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p14844316103316"><a name="zh-cn_topic_0133017584_p14844316103316"></a><a name="zh-cn_topic_0133017584_p14844316103316"></a>optimizer</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p44318541168"><a name="p44318541168"></a><a name="p44318541168"></a>优化器。可选值为：</p>
<a name="ul7579958769"></a><a name="ul7579958769"></a><ul id="ul7579958769"><li>dymomentumw</li><li>sgd</li><li>adam</li><li>momentum</li></ul>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p1217416810357"><a name="zh-cn_topic_0133017584_p1217416810357"></a><a name="zh-cn_topic_0133017584_p1217416810357"></a>momentum</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row613192119571"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p19845916193319"><a name="zh-cn_topic_0133017584_p19845916193319"></a><a name="zh-cn_topic_0133017584_p19845916193319"></a>momentum</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p18279125117341"><a name="zh-cn_topic_0133017584_p18279125117341"></a><a name="zh-cn_topic_0133017584_p18279125117341"></a>优化器参数momentum。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p3174198103518"><a name="zh-cn_topic_0133017584_p3174198103518"></a><a name="zh-cn_topic_0133017584_p3174198103518"></a>0.9</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row178555537571"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p98453169337"><a name="zh-cn_topic_0133017584_p98453169337"></a><a name="zh-cn_topic_0133017584_p98453169337"></a>patience</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p13279451113414"><a name="zh-cn_topic_0133017584_p13279451113414"></a><a name="zh-cn_topic_0133017584_p13279451113414"></a>8个epoch之后若精度相较之前的没有提升学习率会衰减。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p11750810351"><a name="zh-cn_topic_0133017584_p11750810351"></a><a name="zh-cn_topic_0133017584_p11750810351"></a>8</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row11353155715715"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p184571683320"><a name="zh-cn_topic_0133017584_p184571683320"></a><a name="zh-cn_topic_0133017584_p184571683320"></a>decay_patience</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p1827912511342"><a name="zh-cn_topic_0133017584_p1827912511342"></a><a name="zh-cn_topic_0133017584_p1827912511342"></a>学习率下降N次后训练停止。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p171758833517"><a name="zh-cn_topic_0133017584_p171758833517"></a><a name="zh-cn_topic_0133017584_p171758833517"></a>1</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row1337960185817"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p6845716103317"><a name="zh-cn_topic_0133017584_p6845716103317"></a><a name="zh-cn_topic_0133017584_p6845716103317"></a>decay_min_delta</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p628095113346"><a name="zh-cn_topic_0133017584_p628095113346"></a><a name="zh-cn_topic_0133017584_p628095113346"></a>不同学习率的指标之间的最小差值，大于0.001，代表精度有提升。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p1117578163517"><a name="zh-cn_topic_0133017584_p1117578163517"></a><a name="zh-cn_topic_0133017584_p1117578163517"></a>0.001</p>
</td>
</tr>
<tr id="zh-cn_topic_0133017584_row13402193105815"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0133017584_p284501620335"><a name="zh-cn_topic_0133017584_p284501620335"></a><a name="zh-cn_topic_0133017584_p284501620335"></a>min_delta</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0133017584_p182808514345"><a name="zh-cn_topic_0133017584_p182808514345"></a><a name="zh-cn_topic_0133017584_p182808514345"></a>监测指标若小于0.001，代表训练无提升。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0133017584_p1017512893512"><a name="zh-cn_topic_0133017584_p1017512893512"></a><a name="zh-cn_topic_0133017584_p1017512893512"></a>0.001</p>
</td>
</tr>
<tr id="row386393812513"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p8246437155"><a name="p8246437155"></a><a name="p8246437155"></a>rcnn_iou_threshold</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p424615375512"><a name="p424615375512"></a><a name="p424615375512"></a>ssd和faster rcnn计算map时候使用的IOU阈值。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p785867865"><a name="p785867865"></a><a name="p785867865"></a>0.5</p>
</td>
</tr>
</tbody>
</table>

## inception\_v3<a name="section8882739173020"></a>

**表 5**  算法介绍

<a name="table11471202015337"></a>
<table><thead align="left"><tr id="row1547142014331"><th class="cellrowborder" valign="top" width="29.82%" id="mcps1.2.3.1.1"><p id="p18471172043315"><a name="p18471172043315"></a><a name="p18471172043315"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.17999999999999%" id="mcps1.2.3.1.2"><p id="p1647102015335"><a name="p1647102015335"></a><a name="p1647102015335"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row0471320113317"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p047182053316"><a name="p047182053316"></a><a name="p047182053316"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1472122053314"><a name="p1472122053314"></a><a name="p1472122053314"></a>inception_v3</p>
</td>
</tr>
<tr id="row547292013331"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p16472172016337"><a name="p16472172016337"></a><a name="p16472172016337"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1047212201331"><a name="p1047212201331"></a><a name="p1047212201331"></a>图像分类</p>
</td>
</tr>
<tr id="row3472720143312"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p164721420203314"><a name="p164721420203314"></a><a name="p164721420203314"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p5472112019333"><a name="p5472112019333"></a><a name="p5472112019333"></a>TensorFlow, TF-1.8.0-python2.7</p>
</td>
</tr>
<tr id="row647232083311"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p8472172014331"><a name="p8472172014331"></a><a name="p8472172014331"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1547272011330"><a name="p1547272011330"></a><a name="p1547272011330"></a>78.00%(top1), 93.90%(top5)</p>
<a name="ul674323423910"></a><a name="ul674323423910"></a><ul id="ul674323423910"><li>top1是指对于一个图片，如果概率最大的是正确答案，才认为正确。</li><li>top5是指对于一个图片，如果概率前五中包含正确答案，即认为正确。</li></ul>
</td>
</tr>
<tr id="row1347211205333"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p147215208336"><a name="p147215208336"></a><a name="p147215208336"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p7472122063318"><a name="p7472122063318"></a><a name="p7472122063318"></a>imagenet，1000类图像分类</p>
</td>
</tr>
<tr id="row13472112019334"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1647292012338"><a name="p1647292012338"></a><a name="p1647292012338"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1472152073320"><a name="p1472152073320"></a><a name="p1472152073320"></a>shape: [H, W, C&gt;=1]; type: int8</p>
</td>
</tr>
<tr id="row1472132053312"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1347217201330"><a name="p1347217201330"></a><a name="p1347217201330"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p186089148296"><a name="p186089148296"></a><a name="p186089148296"></a>batch_size=32 ; split_spec=train:0.8,eval:0.2 ;</p>
<p id="p3472192017332"><a name="p3472192017332"></a><a name="p3472192017332"></a>更多可使用的运行参数请参见<a href="#table097654363214">表6</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 6**  运行参数说明

<a name="table097654363214"></a>
<table><thead align="left"><tr id="row19771343103213"><th class="cellrowborder" valign="top" width="25.380000000000003%" id="mcps1.2.4.1.1"><p id="p597774353214"><a name="p597774353214"></a><a name="p597774353214"></a>可选参数</p>
</th>
<th class="cellrowborder" valign="top" width="55.17999999999999%" id="mcps1.2.4.1.2"><p id="p5977114343214"><a name="p5977114343214"></a><a name="p5977114343214"></a>参数说明</p>
</th>
<th class="cellrowborder" valign="top" width="19.439999999999998%" id="mcps1.2.4.1.3"><p id="p2977134333216"><a name="p2977134333216"></a><a name="p2977134333216"></a>默认值</p>
</th>
</tr>
</thead>
<tbody><tr id="row1597774310323"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p7844161633315"><a name="p7844161633315"></a><a name="p7844161633315"></a>split_spec</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p4278551113414"><a name="p4278551113414"></a><a name="p4278551113414"></a>训练集和验证集切分比例。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p111739815359"><a name="p111739815359"></a><a name="p111739815359"></a>train:0.8,eval:0.2</p>
</td>
</tr>
<tr id="row1997724373215"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p15844181614334"><a name="p15844181614334"></a><a name="p15844181614334"></a>num_gpus</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p62789512346"><a name="p62789512346"></a><a name="p62789512346"></a>使用的GPU个数。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p10173168123517"><a name="p10173168123517"></a><a name="p10173168123517"></a>1</p>
</td>
</tr>
<tr id="row3977043173213"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p38441161333"><a name="p38441161333"></a><a name="p38441161333"></a>batch_size</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p0278751123413"><a name="p0278751123413"></a><a name="p0278751123413"></a>每次迭代训练的图片数量（单卡）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p171731786359"><a name="p171731786359"></a><a name="p171731786359"></a>32</p>
</td>
</tr>
<tr id="row10978743123213"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p1984412161339"><a name="p1984412161339"></a><a name="p1984412161339"></a>eval_batch_size</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p327815153415"><a name="p327815153415"></a><a name="p327815153415"></a>验证时每步读取的图片数量（单卡）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p1517318823517"><a name="p1517318823517"></a><a name="p1517318823517"></a>32</p>
</td>
</tr>
<tr id="row1978164393215"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p784401643318"><a name="p784401643318"></a><a name="p784401643318"></a>learning_rate_strategy</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p162781351193416"><a name="p162781351193416"></a><a name="p162781351193416"></a>训练的学习率策略（“10:0.001,20:0.0001”代表0-10个epoch学习率0.001， 10-20epoch学习率0.0001）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p1317358183510"><a name="p1317358183510"></a><a name="p1317358183510"></a>0.002</p>
</td>
</tr>
<tr id="row1097834313211"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p148442168335"><a name="p148442168335"></a><a name="p148442168335"></a>evaluate_every_n_epochs</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p15278135173413"><a name="p15278135173413"></a><a name="p15278135173413"></a>每训练N个epoch做一次验证。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p131746810354"><a name="p131746810354"></a><a name="p131746810354"></a>1</p>
</td>
</tr>
<tr id="row897874313321"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p16844201633319"><a name="p16844201633319"></a><a name="p16844201633319"></a>save_interval_secs</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p127885153412"><a name="p127885153412"></a><a name="p127885153412"></a>保存模型的频率（单位：s)。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p61741486353"><a name="p61741486353"></a><a name="p61741486353"></a>2000000</p>
</td>
</tr>
<tr id="row8978114317322"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p19844121663313"><a name="p19844121663313"></a><a name="p19844121663313"></a>max_epoches</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p82782514343"><a name="p82782514343"></a><a name="p82782514343"></a>最大训练的epoch数。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p91741682358"><a name="p91741682358"></a><a name="p91741682358"></a>100</p>
</td>
</tr>
<tr id="row19978154311322"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p1184471613311"><a name="p1184471613311"></a><a name="p1184471613311"></a>log_every_n_steps</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p127875173413"><a name="p127875173413"></a><a name="p127875173413"></a>每训练N步打印一次日志，默认为10步打印一次。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p3174983359"><a name="p3174983359"></a><a name="p3174983359"></a>10</p>
</td>
</tr>
<tr id="row4979124319321"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p2084417166331"><a name="p2084417166331"></a><a name="p2084417166331"></a>save_summaries_steps</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p17278155114347"><a name="p17278155114347"></a><a name="p17278155114347"></a>每5步保存一次summary。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p161743818356"><a name="p161743818356"></a><a name="p161743818356"></a>5</p>
</td>
</tr>
<tr id="row4846310115720"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p184401653314"><a name="p184401653314"></a><a name="p184401653314"></a>weight_decay</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p1527817515347"><a name="p1527817515347"></a><a name="p1527817515347"></a>模型权重衰减的L2系数。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p161746816352"><a name="p161746816352"></a><a name="p161746816352"></a>0.00004</p>
</td>
</tr>
<tr id="row59393131577"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p14844316103316"><a name="p14844316103316"></a><a name="p14844316103316"></a>optimizer</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p134817202817"><a name="p134817202817"></a><a name="p134817202817"></a>优化器。可选值：</p>
<a name="ul584892112814"></a><a name="ul584892112814"></a><ul id="ul584892112814"><li>dymomentumw</li><li>sgd</li><li>adam</li><li>momentum</li></ul>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p1217416810357"><a name="p1217416810357"></a><a name="p1217416810357"></a>momentum</p>
</td>
</tr>
<tr id="row613192119571"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p19845916193319"><a name="p19845916193319"></a><a name="p19845916193319"></a>momentum</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p18279125117341"><a name="p18279125117341"></a><a name="p18279125117341"></a>优化器参数momentum。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p3174198103518"><a name="p3174198103518"></a><a name="p3174198103518"></a>0.9</p>
</td>
</tr>
<tr id="row178555537571"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p98453169337"><a name="p98453169337"></a><a name="p98453169337"></a>patience</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p13279451113414"><a name="p13279451113414"></a><a name="p13279451113414"></a>8个epoch之后若精度相较之前的没有提升学习率会衰减。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p11750810351"><a name="p11750810351"></a><a name="p11750810351"></a>8</p>
</td>
</tr>
<tr id="row11353155715715"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p184571683320"><a name="p184571683320"></a><a name="p184571683320"></a>decay_patience</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p1827912511342"><a name="p1827912511342"></a><a name="p1827912511342"></a>学习率下降N次后训练停止。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p171758833517"><a name="p171758833517"></a><a name="p171758833517"></a>1</p>
</td>
</tr>
<tr id="row1337960185817"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p6845716103317"><a name="p6845716103317"></a><a name="p6845716103317"></a>decay_min_delta</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p628095113346"><a name="p628095113346"></a><a name="p628095113346"></a>不同学习率的指标之间的最小差值，大于0.001，代表精度有提升。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p1117578163517"><a name="p1117578163517"></a><a name="p1117578163517"></a>0.001</p>
</td>
</tr>
<tr id="row13402193105815"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p284501620335"><a name="p284501620335"></a><a name="p284501620335"></a>min_delta</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p182808514345"><a name="p182808514345"></a><a name="p182808514345"></a>监测指标若小于0.001，代表训练无提升。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p1017512893512"><a name="p1017512893512"></a><a name="p1017512893512"></a>0.001</p>
</td>
</tr>
<tr id="row2979144393211"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p184471663319"><a name="p184471663319"></a><a name="p184471663319"></a>image_size</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p4278185120340"><a name="p4278185120340"></a><a name="p4278185120340"></a>训练传入模型的图片大小，为None时获取模型的默认图片大小。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p217478203518"><a name="p217478203518"></a><a name="p217478203518"></a>None</p>
</td>
</tr>
<tr id="row598054313322"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p11844131623316"><a name="p11844131623316"></a><a name="p11844131623316"></a>lr_warmup_strategy</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p827913515345"><a name="p827913515345"></a><a name="p827913515345"></a>warmup策略（线性或指数）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p21741184353"><a name="p21741184353"></a><a name="p21741184353"></a>linear</p>
</td>
</tr>
<tr id="row15980104323212"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p15845111623316"><a name="p15845111623316"></a><a name="p15845111623316"></a>num_readers</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p22791051153412"><a name="p22791051153412"></a><a name="p22791051153412"></a>数据读取的线程数。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p18174198133517"><a name="p18174198133517"></a><a name="p18174198133517"></a>64</p>
</td>
</tr>
<tr id="row9980443133216"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p1845816133314"><a name="p1845816133314"></a><a name="p1845816133314"></a>fp16</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p127915183420"><a name="p127915183420"></a><a name="p127915183420"></a>是否使用fp16精度训练。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p21743853517"><a name="p21743853517"></a><a name="p21743853517"></a>FALSE</p>
</td>
</tr>
<tr id="row9981543123213"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p158451216173316"><a name="p158451216173316"></a><a name="p158451216173316"></a>max_lr</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p1127916519340"><a name="p1127916519340"></a><a name="p1127916519340"></a>最大学习率（dymomentum， dymomentumw优化器以及使用use_lr_schedule时调节的学习率最大值）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p1817414833511"><a name="p1817414833511"></a><a name="p1817414833511"></a>6.4</p>
</td>
</tr>
<tr id="row19981124319321"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p9845191615333"><a name="p9845191615333"></a><a name="p9845191615333"></a>min_lr</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p9279105112344"><a name="p9279105112344"></a><a name="p9279105112344"></a>最小学习率（dymomentum， dymomentumw优化器以及使用use_lr_schedule时调节的学习率最小值）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p61741083359"><a name="p61741083359"></a><a name="p61741083359"></a>0.005</p>
</td>
</tr>
<tr id="row169811743103214"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p12845116173310"><a name="p12845116173310"></a><a name="p12845116173310"></a>warmup</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p12279105116345"><a name="p12279105116345"></a><a name="p12279105116345"></a>warmup在总训练步数中的占比（use_lr_schedule为lcd、poly时使用）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p21741481353"><a name="p21741481353"></a><a name="p21741481353"></a>0.1</p>
</td>
</tr>
<tr id="row59813434327"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p1484571610339"><a name="p1484571610339"></a><a name="p1484571610339"></a>cooldown</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p2279251173417"><a name="p2279251173417"></a><a name="p2279251173417"></a>在warmup中学习率能下降到的最小值。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p19174178143510"><a name="p19174178143510"></a><a name="p19174178143510"></a>0.05</p>
</td>
</tr>
<tr id="row189821943203216"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p18845616133313"><a name="p18845616133313"></a><a name="p18845616133313"></a>max_mom</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p1427985114343"><a name="p1427985114343"></a><a name="p1427985114343"></a>最大momentum（动态momentum使用）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p131741080353"><a name="p131741080353"></a><a name="p131741080353"></a>0.98</p>
</td>
</tr>
<tr id="row13982443143210"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p19845016193313"><a name="p19845016193313"></a><a name="p19845016193313"></a>min_mom</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p1527965110341"><a name="p1527965110341"></a><a name="p1527965110341"></a>最小momentum（动态momentum使用）。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p617514863514"><a name="p617514863514"></a><a name="p617514863514"></a>0.85</p>
</td>
</tr>
<tr id="row1298204315327"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p188451816173319"><a name="p188451816173319"></a><a name="p188451816173319"></a>use_lars</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p527935113347"><a name="p527935113347"></a><a name="p527935113347"></a>是否使用Lars。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p81756811355"><a name="p81756811355"></a><a name="p81756811355"></a>FALSE</p>
</td>
</tr>
<tr id="row1498284319326"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p178451416133318"><a name="p178451416133318"></a><a name="p178451416133318"></a>use_nesterov</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p1279351133412"><a name="p1279351133412"></a><a name="p1279351133412"></a>是否使用Nesterov Momentum。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p61752853517"><a name="p61752853517"></a><a name="p61752853517"></a>TRUE</p>
</td>
</tr>
<tr id="row39831643173220"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p7845416153313"><a name="p7845416153313"></a><a name="p7845416153313"></a>preprocess_threads</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p152801951103416"><a name="p152801951103416"></a><a name="p152801951103416"></a>图片预处理的线程数。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p141750812352"><a name="p141750812352"></a><a name="p141750812352"></a>12</p>
</td>
</tr>
<tr id="row19831443143210"><td class="cellrowborder" valign="top" width="25.380000000000003%" headers="mcps1.2.4.1.1 "><p id="p4845111610336"><a name="p4845111610336"></a><a name="p4845111610336"></a>use_lr_schedule</p>
</td>
<td class="cellrowborder" valign="top" width="55.17999999999999%" headers="mcps1.2.4.1.2 "><p id="p8280125116343"><a name="p8280125116343"></a><a name="p8280125116343"></a>学习率调整策略（'lcd':linear_cosine_decay, 'poly':polynomial_decay)。</p>
</td>
<td class="cellrowborder" valign="top" width="19.439999999999998%" headers="mcps1.2.4.1.3 "><p id="p19175118123512"><a name="p19175118123512"></a><a name="p19175118123512"></a>None</p>
</td>
</tr>
</tbody>
</table>

## darknet\_53<a name="section1371034453015"></a>

**表 7**  算法介绍

<a name="table1854715221337"></a>
<table><thead align="left"><tr id="row8548122183319"><th class="cellrowborder" valign="top" width="29.82%" id="mcps1.2.3.1.1"><p id="p1854811224337"><a name="p1854811224337"></a><a name="p1854811224337"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.17999999999999%" id="mcps1.2.3.1.2"><p id="p1954842210330"><a name="p1954842210330"></a><a name="p1954842210330"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row85481622103313"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1054892210336"><a name="p1054892210336"></a><a name="p1054892210336"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1054892220339"><a name="p1054892220339"></a><a name="p1054892220339"></a>darknet_53</p>
</td>
</tr>
<tr id="row754812293313"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p2548122216331"><a name="p2548122216331"></a><a name="p2548122216331"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1554892211331"><a name="p1554892211331"></a><a name="p1554892211331"></a>图像分类</p>
</td>
</tr>
<tr id="row1054872213331"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p135481221338"><a name="p135481221338"></a><a name="p135481221338"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p354862273311"><a name="p354862273311"></a><a name="p354862273311"></a>MXNet, MXNet-1.2.1-python2.7</p>
</td>
</tr>
<tr id="row15548142210338"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p185481221338"><a name="p185481221338"></a><a name="p185481221338"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1548152217332"><a name="p1548152217332"></a><a name="p1548152217332"></a>78.56%(top1), 94.43%(top5)</p>
<a name="ul1419995454110"></a><a name="ul1419995454110"></a><ul id="ul1419995454110"><li>top1是指对于一个图片，如果概率最大的是正确答案，才认为正确。</li><li>top5是指对于一个图片，如果概率前五中包含正确答案，即认为正确。</li></ul>
</td>
</tr>
<tr id="row1548102263315"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p054852212333"><a name="p054852212333"></a><a name="p054852212333"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1654810226338"><a name="p1654810226338"></a><a name="p1654810226338"></a>imagenet，1000类图像分类</p>
</td>
</tr>
<tr id="row1754802210339"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1054819227339"><a name="p1054819227339"></a><a name="p1054819227339"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1554812227334"><a name="p1554812227334"></a><a name="p1554812227334"></a>shape: [H&gt;=224, W&gt;=224, C&gt;=1]; type: int8</p>
</td>
</tr>
<tr id="row10548202243312"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p175485220337"><a name="p175485220337"></a><a name="p175485220337"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p19548322163311"><a name="p19548322163311"></a><a name="p19548322163311"></a>split_spec=0.8 ; batch_size=4 ;</p>
<p id="p1971234184211"><a name="p1971234184211"></a><a name="p1971234184211"></a>更多可使用的运行参数，请参见<a href="#table19572193693212">表8</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 8**  运行参数说明

<a name="table19572193693212"></a>
<table><thead align="left"><tr id="row155721136153216"><th class="cellrowborder" valign="top" width="21.740000000000002%" id="mcps1.2.4.1.1"><p id="p5572153633215"><a name="p5572153633215"></a><a name="p5572153633215"></a>可选参数</p>
</th>
<th class="cellrowborder" valign="top" width="54.730000000000004%" id="mcps1.2.4.1.2"><p id="p957393619323"><a name="p957393619323"></a><a name="p957393619323"></a>参数说明</p>
</th>
<th class="cellrowborder" valign="top" width="23.53%" id="mcps1.2.4.1.3"><p id="p3573173623215"><a name="p3573173623215"></a><a name="p3573173623215"></a>默认值</p>
</th>
</tr>
</thead>
<tbody><tr id="row16573163653216"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.4.1.1 "><p id="p155739367326"><a name="p155739367326"></a><a name="p155739367326"></a>num_classes</p>
</td>
<td class="cellrowborder" valign="top" width="54.730000000000004%" headers="mcps1.2.4.1.2 "><p id="p1357373618324"><a name="p1357373618324"></a><a name="p1357373618324"></a>训练中使用的图片总的类别数。</p>
</td>
<td class="cellrowborder" valign="top" width="23.53%" headers="mcps1.2.4.1.3 "><p id="p19573836133214"><a name="p19573836133214"></a><a name="p19573836133214"></a>无</p>
</td>
</tr>
<tr id="row18573153617323"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.4.1.1 "><p id="p75731736193219"><a name="p75731736193219"></a><a name="p75731736193219"></a>num_epoch</p>
</td>
<td class="cellrowborder" valign="top" width="54.730000000000004%" headers="mcps1.2.4.1.2 "><p id="p7573436193213"><a name="p7573436193213"></a><a name="p7573436193213"></a>训练的epoch数。</p>
</td>
<td class="cellrowborder" valign="top" width="23.53%" headers="mcps1.2.4.1.3 "><p id="p18573183614321"><a name="p18573183614321"></a><a name="p18573183614321"></a>10</p>
</td>
</tr>
<tr id="row057383693212"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.4.1.1 "><p id="p125735366324"><a name="p125735366324"></a><a name="p125735366324"></a>batch_size</p>
</td>
<td class="cellrowborder" valign="top" width="54.730000000000004%" headers="mcps1.2.4.1.2 "><p id="p165731136183210"><a name="p165731136183210"></a><a name="p165731136183210"></a>每次更新参数输入的数据数量（总）。</p>
</td>
<td class="cellrowborder" valign="top" width="23.53%" headers="mcps1.2.4.1.3 "><p id="p35731636103213"><a name="p35731636103213"></a><a name="p35731636103213"></a>4</p>
</td>
</tr>
<tr id="row105731536203217"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.4.1.1 "><p id="p857393683212"><a name="p857393683212"></a><a name="p857393683212"></a>lr</p>
</td>
<td class="cellrowborder" valign="top" width="54.730000000000004%" headers="mcps1.2.4.1.2 "><p id="p17573636103213"><a name="p17573636103213"></a><a name="p17573636103213"></a>更新参数的学习率。</p>
</td>
<td class="cellrowborder" valign="top" width="23.53%" headers="mcps1.2.4.1.3 "><p id="p3573193618324"><a name="p3573193618324"></a><a name="p3573193618324"></a>0.0001</p>
</td>
</tr>
<tr id="row20574133614328"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.4.1.1 "><p id="p1057443633212"><a name="p1057443633212"></a><a name="p1057443633212"></a>image_shape</p>
</td>
<td class="cellrowborder" valign="top" width="54.730000000000004%" headers="mcps1.2.4.1.2 "><p id="p4574103611329"><a name="p4574103611329"></a><a name="p4574103611329"></a>输入模型图片的shape。</p>
</td>
<td class="cellrowborder" valign="top" width="23.53%" headers="mcps1.2.4.1.3 "><p id="p25743362327"><a name="p25743362327"></a><a name="p25743362327"></a>3,224,224</p>
</td>
</tr>
<tr id="row155732372121"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.4.1.1 "><p id="p13559163761214"><a name="p13559163761214"></a><a name="p13559163761214"></a>split_spec</p>
</td>
<td class="cellrowborder" valign="top" width="54.730000000000004%" headers="mcps1.2.4.1.2 "><p id="p1386920104132"><a name="p1386920104132"></a><a name="p1386920104132"></a>训练集和验证集切分比例。</p>
</td>
<td class="cellrowborder" valign="top" width="23.53%" headers="mcps1.2.4.1.3 "><p id="p234322191316"><a name="p234322191316"></a><a name="p234322191316"></a>0.8</p>
</td>
</tr>
<tr id="row1573143771218"><td class="cellrowborder" valign="top" width="21.740000000000002%" headers="mcps1.2.4.1.1 "><p id="p8559143719122"><a name="p8559143719122"></a><a name="p8559143719122"></a>save_frequency</p>
</td>
<td class="cellrowborder" valign="top" width="54.730000000000004%" headers="mcps1.2.4.1.2 "><p id="p1869510161312"><a name="p1869510161312"></a><a name="p1869510161312"></a>保存模型的频率，即隔N个epoch保存一次模型。</p>
</td>
<td class="cellrowborder" valign="top" width="23.53%" headers="mcps1.2.4.1.3 "><p id="p183431721101319"><a name="p183431721101319"></a><a name="p183431721101319"></a>1</p>
</td>
</tr>
</tbody>
</table>

## SegNet\_VGG\_BN\_16<a name="section1411685323014"></a>

**表 9**  算法介绍

<a name="table1433922543311"></a>
<table><thead align="left"><tr id="row1934012543310"><th class="cellrowborder" valign="top" width="29.82%" id="mcps1.2.3.1.1"><p id="p12340162513311"><a name="p12340162513311"></a><a name="p12340162513311"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.17999999999999%" id="mcps1.2.3.1.2"><p id="p934016254331"><a name="p934016254331"></a><a name="p934016254331"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row434092563314"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p103405255336"><a name="p103405255336"></a><a name="p103405255336"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1334018254335"><a name="p1334018254335"></a><a name="p1334018254335"></a>SegNet_VGG_BN_16</p>
</td>
</tr>
<tr id="row1734072511332"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p7340162563311"><a name="p7340162563311"></a><a name="p7340162563311"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1834072515339"><a name="p1834072515339"></a><a name="p1834072515339"></a>图像语义分割</p>
</td>
</tr>
<tr id="row1134042573311"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p23401525153311"><a name="p23401525153311"></a><a name="p23401525153311"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p5340112512333"><a name="p5340112512333"></a><a name="p5340112512333"></a>MXNet, MXNet-1.2.1-python2.7</p>
</td>
</tr>
<tr id="row9340725123317"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p113401325123315"><a name="p113401325123315"></a><a name="p113401325123315"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1634082517331"><a name="p1634082517331"></a><a name="p1634082517331"></a>89%(pixel acc)</p>
<p id="p17821312154512"><a name="p17821312154512"></a><a name="p17821312154512"></a>pixel acc是指标记正确的像素占总像素的比例。</p>
</td>
</tr>
<tr id="row163401825153314"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1734052593313"><a name="p1734052593313"></a><a name="p1734052593313"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1734014254335"><a name="p1734014254335"></a><a name="p1734014254335"></a>Camvid</p>
</td>
</tr>
<tr id="row03401425193316"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p134072553319"><a name="p134072553319"></a><a name="p134072553319"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p7340142519337"><a name="p7340142519337"></a><a name="p7340142519337"></a>shape: [H=360, W=480, C==3]; type: int8</p>
</td>
</tr>
<tr id="row19340182503316"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1034014258332"><a name="p1034014258332"></a><a name="p1034014258332"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p634022503315"><a name="p634022503315"></a><a name="p634022503315"></a>deploy_on_terminal=False; deploy_on_terminal=False</p>
<p id="p85224368458"><a name="p85224368458"></a><a name="p85224368458"></a>更多可使用的运行参数，请参见<a href="#table9240189322">表10</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 10**  运行参数说明

<a name="table9240189322"></a>
<table><thead align="left"><tr id="row7251518103213"><th class="cellrowborder" valign="top" width="21.62%" id="mcps1.2.4.1.1"><p id="p6256182324"><a name="p6256182324"></a><a name="p6256182324"></a>可选参数</p>
</th>
<th class="cellrowborder" valign="top" width="55.410000000000004%" id="mcps1.2.4.1.2"><p id="p1925618183218"><a name="p1925618183218"></a><a name="p1925618183218"></a>参数说明</p>
</th>
<th class="cellrowborder" valign="top" width="22.97%" id="mcps1.2.4.1.3"><p id="p112513189321"><a name="p112513189321"></a><a name="p112513189321"></a>默认值</p>
</th>
</tr>
</thead>
<tbody><tr id="row1115491917184"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p013571941810"><a name="p013571941810"></a><a name="p013571941810"></a>lr</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p2028053812185"><a name="p2028053812185"></a><a name="p2028053812185"></a>更新参数的学习率。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p3646164751815"><a name="p3646164751815"></a><a name="p3646164751815"></a>0.0001</p>
</td>
</tr>
<tr id="row81548196189"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p1113521917181"><a name="p1113521917181"></a><a name="p1113521917181"></a>mom</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p1728023815184"><a name="p1728023815184"></a><a name="p1728023815184"></a>训练网络的动量参数。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p56465474183"><a name="p56465474183"></a><a name="p56465474183"></a>0.9</p>
</td>
</tr>
<tr id="row12153121971816"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p913521913182"><a name="p913521913182"></a><a name="p913521913182"></a>wd</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p1828011383182"><a name="p1828011383182"></a><a name="p1828011383182"></a>权重衰减系数。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p1164664721814"><a name="p1164664721814"></a><a name="p1164664721814"></a>0.0005</p>
</td>
</tr>
<tr id="row1415381918188"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p17135119141815"><a name="p17135119141815"></a><a name="p17135119141815"></a>num_classes</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p1280173821819"><a name="p1280173821819"></a><a name="p1280173821819"></a>训练中使用的图片总的类别数，这里不需要+1。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p164634714185"><a name="p164634714185"></a><a name="p164634714185"></a>11</p>
</td>
</tr>
<tr id="row1015312198188"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p41351191182"><a name="p41351191182"></a><a name="p41351191182"></a>batch_size</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p1628020380181"><a name="p1628020380181"></a><a name="p1628020380181"></a>每次更新训练的图片数量（所有GPU总和）。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p196469477188"><a name="p196469477188"></a><a name="p196469477188"></a>8</p>
</td>
</tr>
<tr id="row2152319111816"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p181351219141820"><a name="p181351219141820"></a><a name="p181351219141820"></a>num_epoch</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p1628016384187"><a name="p1628016384187"></a><a name="p1628016384187"></a>训练的epoch数。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p19646847101815"><a name="p19646847101815"></a><a name="p19646847101815"></a>15</p>
</td>
</tr>
<tr id="row18151419141812"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p101351419171815"><a name="p101351419171815"></a><a name="p101351419171815"></a>save_frequency</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p8280338111811"><a name="p8280338111811"></a><a name="p8280338111811"></a>保存模型的频率，即隔N个epoch保存一次模型。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p6646194741819"><a name="p6646194741819"></a><a name="p6646194741819"></a>1</p>
</td>
</tr>
<tr id="row715113194180"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p2135419171813"><a name="p2135419171813"></a><a name="p2135419171813"></a>num_examples</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p1728173841814"><a name="p1728173841814"></a><a name="p1728173841814"></a>参与训练的图片总数train.txt中的文件数。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p176461447171810"><a name="p176461447171810"></a><a name="p176461447171810"></a>2953</p>
</td>
</tr>
<tr id="row01511019131818"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p113551991818"><a name="p113551991818"></a><a name="p113551991818"></a>data_shape</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p17281183813182"><a name="p17281183813182"></a><a name="p17281183813182"></a>输入模型图片的shape。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p2646194714187"><a name="p2646194714187"></a><a name="p2646194714187"></a>3,256,256</p>
</td>
</tr>
<tr id="row11150019121812"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p5135181981813"><a name="p5135181981813"></a><a name="p5135181981813"></a>optimizer</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p9281438131815"><a name="p9281438131815"></a><a name="p9281438131815"></a>优化器，默认为随机梯度下降，可选nag。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p11646947111817"><a name="p11646947111817"></a><a name="p11646947111817"></a>sgd</p>
</td>
</tr>
<tr id="row1814951981815"><td class="cellrowborder" valign="top" width="21.62%" headers="mcps1.2.4.1.1 "><p id="p2135319131813"><a name="p2135319131813"></a><a name="p2135319131813"></a>lr_steps</p>
</td>
<td class="cellrowborder" valign="top" width="55.410000000000004%" headers="mcps1.2.4.1.2 "><p id="p1528116388182"><a name="p1528116388182"></a><a name="p1528116388182"></a>multifactor策略中lr衰减的epoch数，默认为在第10和15个epoch衰减为原来的0.1倍。</p>
</td>
<td class="cellrowborder" valign="top" width="22.97%" headers="mcps1.2.4.1.3 "><p id="p764664781812"><a name="p764664781812"></a><a name="p764664781812"></a>7,12</p>
</td>
</tr>
</tbody>
</table>

## ResNet\_v2\_50<a name="section1422116595303"></a>

**表 11**  算法介绍

<a name="table1784616284330"></a>
<table><thead align="left"><tr id="row128463289338"><th class="cellrowborder" valign="top" width="29.82%" id="mcps1.2.3.1.1"><p id="p384615288339"><a name="p384615288339"></a><a name="p384615288339"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.17999999999999%" id="mcps1.2.3.1.2"><p id="p484617284332"><a name="p484617284332"></a><a name="p484617284332"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row484612863312"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p188461928153310"><a name="p188461928153310"></a><a name="p188461928153310"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p8846828123317"><a name="p8846828123317"></a><a name="p8846828123317"></a>ResNet_v2_50</p>
</td>
</tr>
<tr id="row2846428113311"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1084622812335"><a name="p1084622812335"></a><a name="p1084622812335"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p684772817338"><a name="p684772817338"></a><a name="p684772817338"></a>图像分类</p>
</td>
</tr>
<tr id="row88477289330"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p184714282336"><a name="p184714282336"></a><a name="p184714282336"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1384714289335"><a name="p1384714289335"></a><a name="p1384714289335"></a>MXNet, MXNet-1.2.1-python2.7</p>
</td>
</tr>
<tr id="row2847192883319"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p284712817335"><a name="p284712817335"></a><a name="p284712817335"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p2847628183311"><a name="p2847628183311"></a><a name="p2847628183311"></a>75.55%(top1), 92.6%(top5)</p>
<a name="ul24227164711"></a><a name="ul24227164711"></a><ul id="ul24227164711"><li>top1是指对于一个图片，如果概率最大的是正确答案，才认为正确。</li><li>top5是指对于一个图片，如果概率前五中包含正确答案，即认为正确。</li></ul>
</td>
</tr>
<tr id="row384718284338"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p8847132853316"><a name="p8847132853316"></a><a name="p8847132853316"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p08471828193318"><a name="p08471828193318"></a><a name="p08471828193318"></a>imagenet，1000类图像分类</p>
</td>
</tr>
<tr id="row16847228123315"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p884718283339"><a name="p884718283339"></a><a name="p884718283339"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p5847112812337"><a name="p5847112812337"></a><a name="p5847112812337"></a>shape: [H&gt;=32, W&gt;=32, C&gt;=1]; type: int8</p>
</td>
</tr>
<tr id="row17847142823317"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p158471928173318"><a name="p158471928173318"></a><a name="p158471928173318"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1770214297476"><a name="p1770214297476"></a><a name="p1770214297476"></a>split_spec=0.8 ; batch_size=4 ;</p>
<p id="p118091129164312"><a name="p118091129164312"></a><a name="p118091129164312"></a>更多可使用的运行参数与<span class="parmname" id="parmname103330962013"><a name="parmname103330962013"></a><a name="parmname103330962013"></a>“darknet_53”</span>算法一致，详情请参见<a href="#table19572193693212">表8</a>。</p>
</td>
</tr>
</tbody>
</table>

## ResNet\_v1\_50<a name="section175188416313"></a>

**表 12**  算法介绍

<a name="table1933473183320"></a>
<table><thead align="left"><tr id="row333443163311"><th class="cellrowborder" valign="top" width="29.82%" id="mcps1.2.3.1.1"><p id="p23341731203317"><a name="p23341731203317"></a><a name="p23341731203317"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.17999999999999%" id="mcps1.2.3.1.2"><p id="p233420314337"><a name="p233420314337"></a><a name="p233420314337"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row163341831143311"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p4334531133313"><a name="p4334531133313"></a><a name="p4334531133313"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1333453112338"><a name="p1333453112338"></a><a name="p1333453112338"></a>ResNet_v1_50</p>
</td>
</tr>
<tr id="row163343318338"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p13341631173311"><a name="p13341631173311"></a><a name="p13341631173311"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p9334143115338"><a name="p9334143115338"></a><a name="p9334143115338"></a>图像分类</p>
</td>
</tr>
<tr id="row11334193173312"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1933415319333"><a name="p1933415319333"></a><a name="p1933415319333"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p9334113119339"><a name="p9334113119339"></a><a name="p9334113119339"></a>TensorFlow, TF-1.8.0-python2.7</p>
</td>
</tr>
<tr id="row13341731103316"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p133473163320"><a name="p133473163320"></a><a name="p133473163320"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1833493183312"><a name="p1833493183312"></a><a name="p1833493183312"></a>74.2%(top1), 91.7%(top5)</p>
<a name="ul1441811084819"></a><a name="ul1441811084819"></a><ul id="ul1441811084819"><li>top1是指对于一个图片，如果概率最大的是正确答案，才认为正确。</li><li>top5是指对于一个图片，如果概率前五中包含正确答案，即认为正确。</li></ul>
</td>
</tr>
<tr id="row17334143113313"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p123341731113312"><a name="p123341731113312"></a><a name="p123341731113312"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p11334123143317"><a name="p11334123143317"></a><a name="p11334123143317"></a>imagenet，1000类图像分类</p>
</td>
</tr>
<tr id="row113341531113319"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1633493115333"><a name="p1633493115333"></a><a name="p1633493115333"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p18334631133319"><a name="p18334631133319"></a><a name="p18334631133319"></a>shape: [H&gt;=600,W&lt;=1024,C&gt;=1];type:int8</p>
</td>
</tr>
<tr id="row15334193173320"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p153341131113313"><a name="p153341131113313"></a><a name="p153341131113313"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p2033412317339"><a name="p2033412317339"></a><a name="p2033412317339"></a>batch_size=32 ; split_spec=train:0.8,eval:0.2 ;</p>
<p id="p14975165414"><a name="p14975165414"></a><a name="p14975165414"></a>更多可使用的运行参数与<span class="parmname" id="parmname18315624812"><a name="parmname18315624812"></a><a name="parmname18315624812"></a>“inception_v3”</span>算法一致，详情请参见<a href="#table097654363214">表6</a>。</p>
</td>
</tr>
</tbody>
</table>

## Faster\_RCNN\_ResNet\_v2\_101<a name="section184719918316"></a>

**表 13**  算法介绍

<a name="table11638163353316"></a>
<table><thead align="left"><tr id="row063883311330"><th class="cellrowborder" valign="top" width="29.84%" id="mcps1.2.3.1.1"><p id="p4639173303316"><a name="p4639173303316"></a><a name="p4639173303316"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.16%" id="mcps1.2.3.1.2"><p id="p1563913333312"><a name="p1563913333312"></a><a name="p1563913333312"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row663963316337"><td class="cellrowborder" valign="top" width="29.84%" headers="mcps1.2.3.1.1 "><p id="p66392332338"><a name="p66392332338"></a><a name="p66392332338"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.16%" headers="mcps1.2.3.1.2 "><p id="p14639193353317"><a name="p14639193353317"></a><a name="p14639193353317"></a>Faster_RCNN_ResNet_v2_101</p>
</td>
</tr>
<tr id="row1563933320330"><td class="cellrowborder" valign="top" width="29.84%" headers="mcps1.2.3.1.1 "><p id="p763933319332"><a name="p763933319332"></a><a name="p763933319332"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.16%" headers="mcps1.2.3.1.2 "><p id="p166391533143316"><a name="p166391533143316"></a><a name="p166391533143316"></a>检测物体类别和位置</p>
</td>
</tr>
<tr id="row1463953315334"><td class="cellrowborder" valign="top" width="29.84%" headers="mcps1.2.3.1.1 "><p id="p156391233143314"><a name="p156391233143314"></a><a name="p156391233143314"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.16%" headers="mcps1.2.3.1.2 "><p id="p1863917338338"><a name="p1863917338338"></a><a name="p1863917338338"></a>MXNet, MXNet-1.2.1-python2.7</p>
</td>
</tr>
<tr id="row13639183363310"><td class="cellrowborder" valign="top" width="29.84%" headers="mcps1.2.3.1.1 "><p id="p196391433153316"><a name="p196391433153316"></a><a name="p196391433153316"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.16%" headers="mcps1.2.3.1.2 "><p id="p1063963316335"><a name="p1063963316335"></a><a name="p1063963316335"></a>80.05%(mAP)</p>
<p id="p133291735184913"><a name="p133291735184913"></a><a name="p133291735184913"></a>mAP是物体检测算法中衡量算法效果的指标。对于物体检测任务，每一类object都可以计算出其精确率（Precision）和召回率（Recall），在不同阈值下多次计算/试验，每个类都可以得到一条P-R曲线，曲线下的面积就是average。</p>
</td>
</tr>
<tr id="row56391433193318"><td class="cellrowborder" valign="top" width="29.84%" headers="mcps1.2.3.1.1 "><p id="p663923313315"><a name="p663923313315"></a><a name="p663923313315"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.16%" headers="mcps1.2.3.1.2 "><p id="p186391633143318"><a name="p186391633143318"></a><a name="p186391633143318"></a>Pascal VOC2007，20类物体检测</p>
</td>
</tr>
<tr id="row16397336337"><td class="cellrowborder" valign="top" width="29.84%" headers="mcps1.2.3.1.1 "><p id="p5639833163317"><a name="p5639833163317"></a><a name="p5639833163317"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.16%" headers="mcps1.2.3.1.2 "><p id="p3639133317332"><a name="p3639133317332"></a><a name="p3639133317332"></a>shape: [H, W, C==3]; type: int8</p>
</td>
</tr>
<tr id="row763943353319"><td class="cellrowborder" valign="top" width="29.84%" headers="mcps1.2.3.1.1 "><p id="p5639433153317"><a name="p5639433153317"></a><a name="p5639433153317"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.16%" headers="mcps1.2.3.1.2 "><p id="p1863943312333"><a name="p1863943312333"></a><a name="p1863943312333"></a>lr=0.0001 ; eval_frequence=1 ;</p>
<p id="p23706228506"><a name="p23706228506"></a><a name="p23706228506"></a>更多可使用的运行参数，请参见<a href="#table599685814314">表14</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 14**  运行参数说明

<a name="table599685814314"></a>
<table><thead align="left"><tr id="row1099765883118"><th class="cellrowborder" valign="top" width="21.9%" id="mcps1.2.4.1.1"><p id="p99979582313"><a name="p99979582313"></a><a name="p99979582313"></a>可选参数</p>
</th>
<th class="cellrowborder" valign="top" width="56.35%" id="mcps1.2.4.1.2"><p id="p149971858103112"><a name="p149971858103112"></a><a name="p149971858103112"></a>参数说明</p>
</th>
<th class="cellrowborder" valign="top" width="21.75%" id="mcps1.2.4.1.3"><p id="p3997115812319"><a name="p3997115812319"></a><a name="p3997115812319"></a>默认值</p>
</th>
</tr>
</thead>
<tbody><tr id="row17997195814319"><td class="cellrowborder" valign="top" width="21.9%" headers="mcps1.2.4.1.1 "><p id="p109977587317"><a name="p109977587317"></a><a name="p109977587317"></a>num_classes</p>
</td>
<td class="cellrowborder" valign="top" width="56.35%" headers="mcps1.2.4.1.2 "><p id="p799735818316"><a name="p799735818316"></a><a name="p799735818316"></a>训练中使用的图片总的类别数，这里需要+1，因为有一个额外的背景类。</p>
</td>
<td class="cellrowborder" valign="top" width="21.75%" headers="mcps1.2.4.1.3 "><p id="p1399705863111"><a name="p1399705863111"></a><a name="p1399705863111"></a>无</p>
</td>
</tr>
<tr id="row1299705883115"><td class="cellrowborder" valign="top" width="21.9%" headers="mcps1.2.4.1.1 "><p id="p799795833113"><a name="p799795833113"></a><a name="p799795833113"></a>eval_frequence</p>
</td>
<td class="cellrowborder" valign="top" width="56.35%" headers="mcps1.2.4.1.2 "><p id="p1299795818313"><a name="p1299795818313"></a><a name="p1299795818313"></a>对模型做验证的频率，默认为每个epoch都做。</p>
</td>
<td class="cellrowborder" valign="top" width="21.75%" headers="mcps1.2.4.1.3 "><p id="p699725810311"><a name="p699725810311"></a><a name="p699725810311"></a>1</p>
</td>
</tr>
<tr id="row19971758133116"><td class="cellrowborder" valign="top" width="21.9%" headers="mcps1.2.4.1.1 "><p id="p19972058143120"><a name="p19972058143120"></a><a name="p19972058143120"></a>lr</p>
</td>
<td class="cellrowborder" valign="top" width="56.35%" headers="mcps1.2.4.1.2 "><p id="p1599865818314"><a name="p1599865818314"></a><a name="p1599865818314"></a>更新参数的学习率。</p>
</td>
<td class="cellrowborder" valign="top" width="21.75%" headers="mcps1.2.4.1.3 "><p id="p1599835823110"><a name="p1599835823110"></a><a name="p1599835823110"></a>0.0001</p>
</td>
</tr>
<tr id="row199810585314"><td class="cellrowborder" valign="top" width="21.9%" headers="mcps1.2.4.1.1 "><p id="p4998258203112"><a name="p4998258203112"></a><a name="p4998258203112"></a>mom</p>
</td>
<td class="cellrowborder" valign="top" width="56.35%" headers="mcps1.2.4.1.2 "><p id="p179985588314"><a name="p179985588314"></a><a name="p179985588314"></a>训练网络的动量参数。</p>
</td>
<td class="cellrowborder" valign="top" width="21.75%" headers="mcps1.2.4.1.3 "><p id="p7998058103112"><a name="p7998058103112"></a><a name="p7998058103112"></a>0.9</p>
</td>
</tr>
<tr id="row399812588317"><td class="cellrowborder" valign="top" width="21.9%" headers="mcps1.2.4.1.1 "><p id="p1899855853114"><a name="p1899855853114"></a><a name="p1899855853114"></a>wd</p>
</td>
<td class="cellrowborder" valign="top" width="56.35%" headers="mcps1.2.4.1.2 "><p id="p139981158123111"><a name="p139981158123111"></a><a name="p139981158123111"></a>参数权重衰减系数，L2。</p>
</td>
<td class="cellrowborder" valign="top" width="21.75%" headers="mcps1.2.4.1.3 "><p id="p2998105863111"><a name="p2998105863111"></a><a name="p2998105863111"></a>0.0005</p>
</td>
</tr>
<tr id="row49981558123114"><td class="cellrowborder" valign="top" width="21.9%" headers="mcps1.2.4.1.1 "><p id="p1699813587313"><a name="p1699813587313"></a><a name="p1699813587313"></a>export_model</p>
</td>
<td class="cellrowborder" valign="top" width="56.35%" headers="mcps1.2.4.1.2 "><p id="p18998185819313"><a name="p18998185819313"></a><a name="p18998185819313"></a>是否将生成的模型生成为部署推理服务需要的格式。</p>
</td>
<td class="cellrowborder" valign="top" width="21.75%" headers="mcps1.2.4.1.3 "><p id="p699885863113"><a name="p699885863113"></a><a name="p699885863113"></a>TRUE</p>
</td>
</tr>
<tr id="row1998185893111"><td class="cellrowborder" valign="top" width="21.9%" headers="mcps1.2.4.1.1 "><p id="p19998185833117"><a name="p19998185833117"></a><a name="p19998185833117"></a>split_spec</p>
</td>
<td class="cellrowborder" valign="top" width="56.35%" headers="mcps1.2.4.1.2 "><p id="p5998165813316"><a name="p5998165813316"></a><a name="p5998165813316"></a>训练集和验证集切分比例。</p>
</td>
<td class="cellrowborder" valign="top" width="21.75%" headers="mcps1.2.4.1.3 "><p id="p14998165818319"><a name="p14998165818319"></a><a name="p14998165818319"></a>0.8</p>
</td>
</tr>
<tr id="row0271162682612"><td class="cellrowborder" valign="top" width="21.9%" headers="mcps1.2.4.1.1 "><p id="p1324872692615"><a name="p1324872692615"></a><a name="p1324872692615"></a>optimizer</p>
</td>
<td class="cellrowborder" valign="top" width="56.35%" headers="mcps1.2.4.1.2 "><p id="p18248026142612"><a name="p18248026142612"></a><a name="p18248026142612"></a>优化器，默认为随机梯度下降，可选nag。</p>
</td>
<td class="cellrowborder" valign="top" width="21.75%" headers="mcps1.2.4.1.3 "><p id="p15248726142611"><a name="p15248726142611"></a><a name="p15248726142611"></a>sgd</p>
</td>
</tr>
</tbody>
</table>

## Faster\_RCNN\_ResNet\_v1\_50<a name="section1794118221311"></a>

**表 15**  算法介绍

<a name="table13105336193317"></a>
<table><thead align="left"><tr id="row16105153663310"><th class="cellrowborder" valign="top" width="29.82%" id="mcps1.2.3.1.1"><p id="p9105123673315"><a name="p9105123673315"></a><a name="p9105123673315"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="70.17999999999999%" id="mcps1.2.3.1.2"><p id="p191058362334"><a name="p191058362334"></a><a name="p191058362334"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row4105133603312"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p12105236163316"><a name="p12105236163316"></a><a name="p12105236163316"></a>名称</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1410533673312"><a name="p1410533673312"></a><a name="p1410533673312"></a>Faster_RCNN_ResNet_v1_50</p>
</td>
</tr>
<tr id="row31058369336"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p5105736163314"><a name="p5105736163314"></a><a name="p5105736163314"></a>用途</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p2106103610333"><a name="p2106103610333"></a><a name="p2106103610333"></a>检测物体类别和位置</p>
</td>
</tr>
<tr id="row11060368331"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p2106123633318"><a name="p2106123633318"></a><a name="p2106123633318"></a>引擎类型</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p810683613316"><a name="p810683613316"></a><a name="p810683613316"></a>TensorFlow, TF-1.8.0-python2.7</p>
</td>
</tr>
<tr id="row61061236173313"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p19106153611332"><a name="p19106153611332"></a><a name="p19106153611332"></a>精度</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p6204917155218"><a name="p6204917155218"></a><a name="p6204917155218"></a>73.6%(mAP)</p>
<p id="p51506420497"><a name="p51506420497"></a><a name="p51506420497"></a>mAP是物体检测算法中衡量算法效果的指标。对于物体检测任务，每一类object都可以计算出其精确率（Precision）和召回率（Recall），在不同阈值下多次计算/试验，每个类都可以得到一条P-R曲线，曲线下的面积就是average。</p>
</td>
</tr>
<tr id="row18106143623310"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p210603683312"><a name="p210603683312"></a><a name="p210603683312"></a>训练数据集</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p910663616339"><a name="p910663616339"></a><a name="p910663616339"></a>Pascal VOC2007，20类物体检测</p>
</td>
</tr>
<tr id="row910673683319"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p1410613613310"><a name="p1410613613310"></a><a name="p1410613613310"></a>数据格式</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p1110623614332"><a name="p1110623614332"></a><a name="p1110623614332"></a>shape: [H&gt;=600,W&lt;=1024,C&gt;=1];type:int8</p>
</td>
</tr>
<tr id="row01061236193310"><td class="cellrowborder" valign="top" width="29.82%" headers="mcps1.2.3.1.1 "><p id="p010633603314"><a name="p010633603314"></a><a name="p010633603314"></a>运行参数</p>
</td>
<td class="cellrowborder" valign="top" width="70.17999999999999%" headers="mcps1.2.3.1.2 "><p id="p6271859133116"><a name="p6271859133116"></a><a name="p6271859133116"></a>batch_size=32 ; split_spec=train:0.8,eval:0.2 ;</p>
<p id="p710610362335"><a name="p710610362335"></a><a name="p710610362335"></a>更多可使用的运行参数与<span class="parmname" id="parmname1694964419528"><a name="parmname1694964419528"></a><a name="parmname1694964419528"></a>“retinanet_resnet_v1_50”</span>算法一致，详情请参见<a href="#table121175580323">表4</a>。</p>
</td>
</tr>
</tbody>
</table>


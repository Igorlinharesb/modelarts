# 一键模型上线<a name="modelarts_23_0184"></a>

针对已完成标注的数据集，可以一键创建训练作业、模型导入、部署为在线服务的任务。无需多步操作，快速构建一个可用的服务。

## 背景信息<a name="section329125514246"></a>

-   一键模型上线功能当前仅支持物体检测和图像分类的数据集。
-   当前，只支持使用预置算法进行训练。针对使用常用框架或自定义镜像方式训练的任务，建议单独创建训练作业。
-   一键模型上线任务创建完成后，将在系统中自动创建对应的训练作业、将训练完成的模型导入ModelArts、并部署为在线服务。用户只需填写一次参数，无需多步操作，即可完成基于数据集的AI全流程开发。
-   关于费用：
    -   训练作业将根据您选择的资源，按需计费。训练一次计费一次，不会产生多余费用。
    -   导入模型暂时不收费。
    -   任务创建完成后，创建的在线服务将处于运行中状态，将一直处于计费中，请根据实际情况停止服务，避免产生费用。

-   确保您使用的OBS目录与ModelArts在同一区域。
-   针对团队标注的数据集，暂时不支持一键模型上线功能。

## 创建任务<a name="section14199722192814"></a>

1.  登录ModelArts管理控制台，在左侧菜单栏中选择“数据管理（Beta） \> 数据集“，进入“数据集“管理页面。
2.  在数据集列表中，单击操作列的“一键模型上线 \> 任务创建“，进入“一键模型上线“页面。
3.  填写任务的基本信息，即此任务的“名称“和“描述“。

    **图 1**  任务基本信息<a name="fig94901434103217"></a>  
    ![](figures/任务基本信息.png "任务基本信息")

4.  填写“训练“相关信息，如[图2](#fig14312143118373)所示。

    创建“一键模型上线任务”时，训练相关参数与训练作业相似，仅支持选择“预置算法“进行训练。其中“预置算法“会基于您的数据集类型，默认关联出相关的“预置算法“。例如“物体检测“类型的数据集，可用的“预置算法“为“Faster\_RCNN\_ResNet\_v1\_50“；“图像分类“的数据集，其可用“预置算法“有“ResNet\_v1\_50“、“retinanet\_resnet\_v1\_50“、“Faster\_RCNN\_ResNet\_v1\_50“。“运行参数“将根据您选择的“预置算法“不同而不同，且采用其默认值。

    “训练输出位置“、“作业日志路径“、“资源池“、“类型“、“规格“、“计算节点个数“等参数，请参考[创建训练作业](创建训练作业.md)章节中的步骤[3](创建训练作业.md#li12261856510)完成填写。

    **图 2**  训练相关信息<a name="fig14312143118373"></a>  
    ![](figures/训练相关信息.png "训练相关信息")

5.  填写部署相关信息，如[图3](#fig830263311452)所示。

    选择任务部署为在线服务使用的资源，“资源池“、“计算节点规格“、“计算节点个数“、“环境变量“参数，可参见[部署在线服务](部署为在线服务.md)章节的步骤[3](部署为在线服务.md#li105537178719)填写参数。

    **图 3**  部署相关参数<a name="fig830263311452"></a>  
    ![](figures/部署相关参数.png "部署相关参数")

6.  确认您填写的信息无误后，单击“下一步“，进入“规格确认“页面。
7.  “规格确认“页面呈现填写信息的详情，确认无误后，单击“提交“完成任务创建。

    任务开始创建后，需要经过“初始化“、“训练“、“生成模型“、“部署“等过程，部署页面将呈现其任务过程，根据数据集大小不同，其耗费时间不等，请您耐心等待。

    在完成“训练“、“生成模型“、“部署“的任务后，会在界面中呈现“查看训练详情“、“查看模型详情“、“查看服务详情“的链接，您可以单击链接快速跳转至对应页面，查看详情。

    **图 4**  完成任务创建<a name="fig144371014242"></a>  
    ![](figures/完成任务创建.png "完成任务创建")


## 查看任务历史<a name="section79771627112813"></a>

1.  登录ModelArts管理控制台，在左侧菜单栏中选择“数据管理（Beta） \> 数据集“，进入“数据集“管理页面。
2.  在数据集列表中，单击操作列的“一键模型上线 \> 任务历史“，进入“一键模型上线任务历史“页面。详细信息如[图5](#fig268632812364)所示。

    **图 5**  历史任务详情<a name="fig268632812364"></a>  
    ![](figures/历史任务详情.png "历史任务详情")


